#指针，c语言
## 指针
1. 定义：储存地址的变量
2. 解引用运算符：返回指针变量指向的地址的值
```c
int a=5;
int* p=&a;   //p指向a的地址
printf("%d",*p); //解引用指针
*p=100;
printf("%d",a);  //此时a=100
```
3. 数组和指针的关系：通过数组下标能完成的操作都可以用指针完成
   数组名就是首元素的地址	:
```c
	  int a[]={10,11,12,13};
	  int* p;
	  p=a;
	  printf("%p\n",a); //输出a[0]的地址
	  printf("%p\n",p); //p=a[0] (地址)
	  printf("%\n",*p);
```
3. 指针的算术运算
	- 加上一个整数，加的是这个整数的数据类型所对应的字节数的积
	- （指针变量有数据类型的原因）


## 结构体 
1. 定义：结构体是一个或多个变量的集合，变量可以是不同的类型
2. 声明方式：
```c
struct 结构体名
{
	数据类型 变量名
    数据类型 变量名
}
```
3. 赋值：变量名.结构体内部变量名=值
4. 一个简单的例子：
```c
#include <stdio.h>  
int main() {  
    struct lover  {  
        int age;  
        int class;  
    };  
    struct lover zsx;  
    zsx.age=18;  
    zsx.class=2;  
    printf("%d %d", zsx.age, zsx.class);
    }
```
5. 结构体与指针
	 指针访问结构体可以提高效率
```c
struct teacher* mlj;  //mlj指向teacher结构体
```
- 通过指针向结构体中的属性赋值
  ```c
  (*mlj).age=29; //更简便的写法:mlj->age=29;
  (*mlj).class=15;
  ```

### 类型定义
1. typedef +数据类型+别名
2. 用处：起别名方便修改（预编译）
```c
typedef struct (结构体名)
{
	数据类型 变量名；
	数据类型 变量名；
}别名；
```

### 内存分类
1. **静态 / 全局内存** 静态声明的变量和全局变量使用这部分内存，这些变量在程序开始运行时分配，直到程序终才消失。
2. **自动内存（栈内存）** 函数内部声明的变量使用这部分内存，在函数被调用时才创建。
3. **动态内存（堆内存）** 根据需求编写代码动态分配内存，可以编写代码释放，内存中的内容直到释放才消失。

#### 动态内存分配
1. mallcoc函数分配内存
 ```c
 void* mallloc(size_t);  //void表示无特定类型（强制转换可以返回特定类型）
 ```
 - 成功：返回从堆内存上分配的内存指针
 - 失败：返回空指针NULL
2. 使用分配的内存
3. 使用free函数释放内存
##### malloc示例
```c
#include <stdio.h>
#include <stdlib.h>
int main(){
	int* p;
	p=(int*)malloc(sizeof(int)); //sizeof提高可移植性（int大小可能不同）
	...
	free(p); //释放内存
}
```
- 数组
```c
int main(){
	int* arr=(int*)malloc(5*sizeof(int));
	for(int i=0;i<5;i++){
		arr[i]=0;
	}
	
	for(int i=0;i<5;i++){
		printf("%d\n",arr[i])
	}
	return 0;
}
```
- 字符串
```c
int main(){
	char* s;
	s=(char*)malloc(10);
	strcpy(s,"Hello");
	printf("%s",s);
}
```
*字符串是字符数组，*s会退化成字符数组的首个字符
