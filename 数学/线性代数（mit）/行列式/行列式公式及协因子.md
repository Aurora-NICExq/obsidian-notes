## 行列式展开
行列式的本质是所有可能的取样乘积之和。 不论行列式有多大，每一个乘积项（term）必须严格遵守一个规则：
- **每一行只能取一个元素，每一列也只能取一个元素。**
* *确保在 $n$ 维空间中真正“撑开”了一个 $n$ 维的体积。

### 行列式的定义
对于一个 $n \times n$ 的矩阵 $A$，行列式的定义是所有可能的“路径”之和：

$$\det(A) = \sum_{\sigma} (\text{sgn}(\sigma)) \cdot a_{1, \sigma(1)} a_{2, \sigma(2)} \cdots a_{n, \sigma(n)}$$
### 置换矩阵与行列式
#### 行列式符号的理解
每一项前面的符号（$\pm$），**恰好就是对应的那个置换矩阵 $P$ 的行列式！**
- 恒等置换（Identity）：对应主对角线 $a_{11}a_{22}...a_{nn}$。
    对应的置换矩阵是 $I$。
    $\det(I) = +1$。所以这一项是正的。
- 一次交换：比如 $a_{21}a_{12}a_{33}...$。
    对应的置换矩阵 $P$ 是把 $I$ 的前两行交换了。
    $\det(P) = -1$。所以这一项是负的。

#### 行列式的公式
$$\det(A) = \sum_{\text{all } P} (\det(P) \times \text{Product of } A \text{ along } P)$$

**行列式就是所有可能的“置换路径”上的元素乘积，按照该路径对应的置换矩阵的符号（+1或-1）加权求和。** [[行列式公式及协因子#^e00bf1|正负的另一种理解]]
### 行列式的线性性
行列式是一个**多重线性函数**。这意味着它对每一行都是线性的。[[行列式及其性质#^25af88|行列式基本性质3]]

假设要计算 $2 \times 2$ 行列式：

$$\det \begin{bmatrix} a & b \\ c & d \end{bmatrix} = \det \begin{bmatrix} a & 0 \\ c & d \end{bmatrix} + \det \begin{bmatrix} 0 & b \\ c & d \end{bmatrix}$$

继续拆分第二行：

$$= \det \begin{bmatrix} a & 0 \\ c & 0 \end{bmatrix} + \det \begin{bmatrix} a & 0 \\ 0 & d \end{bmatrix} + \det \begin{bmatrix} 0 & b \\ c & 0 \end{bmatrix} + \det \begin{bmatrix} 0 & b \\ 0 & d \end{bmatrix}$$

观察这四项：

1. $\begin{bmatrix} a & 0 \\ c & 0 \end{bmatrix}$：列2全为0（对应选了两个列1的元素），行列式为0。
    
2. $\begin{bmatrix} a & 0 \\ 0 & d \end{bmatrix}$：**对角线项 $ad$，每行每列各一个，保留。**
    
3. $\begin{bmatrix} 0 & b \\ c & 0 \end{bmatrix}$：**反对角线项 $bc$，每行每列各一个，保留。**
    
4. $\begin{bmatrix} 0 & b \\ 0 & d \end{bmatrix}$：列1全为0（对应选了两个列2的元素），行列式为0。

只有那些“占据了不同行和不同列”的组合，才能在多重线性的拆分中幸存下来，其他的都会因为含有全零行或全零列而消失。
## 协因子

### 协因子(cofactor)
- 在行列式展开公式中：$\det(A) = a_{11}C_{11} + a_{12}C_{12} + \dots$
- $a_{ij}$ 是一个乘数，$C_{ij}$ 是另一个乘数。所以 $C_{ij}$ 本质上就是一个**因子**。

### 伴随矩阵
由 Cofactor 组成的矩阵叫做 Adjugate Matrix（伴随矩阵）


### 展开协因子的符号

^e00bf1

行列式展开公式中，协因子前的符号取决于：

$$(-1)^{i+j}$$
来自于为了把该元素“归位”到主对角线所进行的变换操作

#### 证明过程
假设沿着 $a_{12}$（第一行，第二列）展开：

$$A = \begin{bmatrix} a_{11} & \mathbf{a_{12}} & a_{13} \\ a_{21} & a_{22} & a_{23} \\ a_{31} & a_{32} & a_{33} \end{bmatrix}$$

为了把 $\mathbf{a_{12}}$ 移到左上角的主对角线位置，需要进行列交换
- 根据行列式的性质，**交换一次，符号变反一次**。 ^5c8d1b

对于任意位置 $(i, j)$ 的元素 $a_{ij}$，要把它搬到左上角 $(1, 1)$：

1. 它需要向上跨过 $i-1$ 行（进行 $i-1$ 次行交换）。
    
2. 它需要向左跨过 $j-1$ 列（进行 $j-1$ 次列交换）。
## 行列式逆的计算公式
**伴随矩阵**（Adjugate Matrix，记为 $A^*$ 或 $\text{adj}(A)$）求逆
$$A^{-1} = \frac{1}{\det(A)} A^*$$
其中 $A^*$ 是**协因子矩阵 $C$ 的转置**，即 $A^* = C^T$。即证：
$$A \cdot C^T = \det(A) \cdot I$$

---

### 证明步骤

要计算矩阵 $A$和它的伴随矩阵 $C^T$的乘积。 设 $P = A \cdot C^T$。

$$\begin{bmatrix} a_{11} & \dots & a_{1n} \\ \vdots & & \vdots \\ a_{n1} & \dots & a_{nn} \end{bmatrix} \cdot \begin{bmatrix} C_{11} & \dots & C_{n1} \\ \vdots & & \vdots \\ C_{1n} & \dots & C_{nn} \end{bmatrix} = P$$

右边是转置矩阵
根据矩阵乘法，$P_{ij}$ 是 $A$ 的**第 $i$ 行**与 $C^T$ 的**第 $j$ 列**的点积。 而 $C^T$ 的第 $j$ 列，是原始协因子矩阵 $C$ 的**第 $j$ 行**。
即计算是：**$A$ 的第 $i$ 行 $\cdot$ $C$ 的第 $j$ 行**。
这会出现两种情况：
#### 情况 1：对角线元素（i=j）
当 $i=j$ 时，比如计算 $P_{11}$：

$$P_{11} = a_{11}C_{11} + a_{12}C_{12} + \dots + a_{1n}C_{1n}$$
- **结果**：$P_{11} = \det(A)$。
- 同理，所有对角线元素 $P_{22}, P_{33} \dots$ 都是 $\det(A)$。
#### 情况 2：非对角线元素（i=j）
当 $i \neq j$ 时，比如计算 $P_{12}$（$A$ 的第1行 乘以 $C$ 的第2行）：

$$P_{12} = a_{11}C_{21} + a_{12}C_{22} + \dots + a_{1n}C_{2n}$$

- 协因子 $C_{21}, C_{22}\dots$ 是根据 $A$ 的**第 2 行**生成的（也就是去掉了 $A$ 的第 2 行后剩下的部分）。
- **物理意义**：相当于计算一个第 1 行和第 2 行完全相同的矩阵的行列式。 ^e5cada
- **结果**：$P_{12} = 0$。同理，所有非对角线元素都是 0。
---

### 结论
乘积矩阵 $P$ 变成了一个标量矩阵：

$$A \cdot C^T = \begin{bmatrix} \det(A) & 0 & \dots & 0 \\ 0 & \det(A) & \dots & 0 \\ \vdots & \vdots & \ddots & \vdots \\ 0 & 0 & \dots & \det(A) \end{bmatrix} = \det(A) \cdot I$$
现在，只要 $\det(A) \neq 0$，我们就可以两边同时除以 $\det(A)$：

$$A \cdot \left( \frac{1}{\det(A)} C^T \right) = I$$

根据逆矩阵的定义（$A B = I$ 则 $B = A^{-1}$），括号里的部分就是 $A^{-1}$：

$$A^{-1} = \frac{1}{\det(A)} C^T$$


### 非对角线元素证明

^7b5043

错误乘法：

$$P_{12} = a_{11}C_{21} + a_{12}C_{22} + \dots + a_{1n}C_{2n}$$
这个算式 $a_{11}C_{21} + \dots$ 实际上是在计算下面这个**新矩阵 $B$** 的行列式：

$$B = \begin{bmatrix} a_{11} & a_{12} & \dots & a_{1n} \\ \mathbf{a_{11}} & \mathbf{a_{12}} & \dots & \mathbf{a_{1n}} \\ a_{31} & a_{32} & \dots & a_{3n} \\ \vdots & \vdots & & \vdots \end{bmatrix} \leftarrow \text{第 1 行（原封不动）} \\ \leftarrow \text{第 2 行（填进了第 1 行的数）}$$
[[行列式公式及协因子#^e5cada|非对角线元素的填字游戏]]
